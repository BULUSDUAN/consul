{{#if (gt items.length 0)}}
<ListCollection @items={{items}} class="consul-role-list" as |item|>
    <BlockSlot @name="header">
      <a data-test-role={{item.Name}} href={{href-to 'dc.acls.roles.edit' item.ID}}>{{item.Name}}</a>
    </BlockSlot>
    <BlockSlot @name="details">
{{#let (policy/group item.Policies) as |policies|}}
  {{#let (get policies 'management') as |management|}}
    {{#if (gt management.length 0)}}
        <dl>
          <dt>
            Management
          </dt>
          <dd>
              {{#each (get policies 'management') as |item|}}
                <span data-test-policy class={{policy/typeof item}}>{{item.Name}}</span>
              {{/each}}
          </dd>
        </dl>
    {{/if}}
  {{/let}}
  {{#let (get policies 'identities') as |identities|}}
    {{#if (gt identities.length 0)}}
        <dl>
          <dt>Identities</dt>
          <dd>
              {{#each identities as |item|}}
                <span data-test-policy class={{policy/typeof item}}>{{if (eq item.template 'service-identity') 'Service' 'Node'}} Identity: {{item.Name}}</span>
              {{/each}}
          </dd>
        </dl>
    {{/if}}
  {{/let}}
  {{#let (get policies 'policies') as |policies|}}
    {{#if (gt policies.length 0)}}
        <dl>
          <dt>Rules</dt>
          <dd>
              {{#each policies as |item|}}
                <span data-test-policy class={{policy/typeof item}}>{{item.Name}}</span>
              {{/each}}
          </dd>
        </dl>
    {{/if}}
  {{/let}}
{{/let}}
        <dl>
          <dt>Description</dt>
          <dd data-test-description>
              {{item.Description}}
          </dd>
        </dl>
    </BlockSlot>
    <BlockSlot @name="actions" as |Actions|>
      <Actions as |Action|>
        <Action data-test-edit-action @name="edit" @href={{href-to 'dc.acls.roles.edit' item.ID}}>
          <BlockSlot @name="label">
            Edit
          </BlockSlot>
        </Action>
        <Action data-test-delete-action @name="delete" @onclick={{action ondelete item}} class="dangerous">
          <BlockSlot @name="label">
            Delete
          </BlockSlot>
          <BlockSlot @name="confirmation" as |Confirmation|>
            <Confirmation class="warning">
              <BlockSlot @name="header">
                Confirm delete
              </BlockSlot>
              <BlockSlot @name="body">
                <p>
                  Are you sure you want to delete this role?
                </p>
              </BlockSlot>
              <BlockSlot @name="confirm" as |Confirm|>
                <Confirm>Delete</Confirm>
              </BlockSlot>
            </Confirmation>
          </BlockSlot>
        </Action>
      </Actions>
    </BlockSlot>
</ListCollection>
{{/if}}